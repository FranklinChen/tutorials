



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>From Interpreter to Compiler &mdash; LMS Tutorials</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/stylesheet.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygment_trac.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/main.js"></script>
    <link rel="top" title="LMS Tutorials" href="index.html" />
    <link rel="prev" title="Staging" href="staging.html" /> 
  </head>
  <body>
<div id="header_wrap" class="outer">
   <a id="forkme_banner" href="https://github.com/scala-lms/tutorials">View on GitHub</a>
    <header class="inner">
         <a href="."><h1 id="project_title">Tutorials</h1></a>
         <a href="http://scala-lms.github.io"><h2 id="project_tagline">Lightweight Modular Staging</h2></a>
    </header>
    </div>



    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
                <div class="previous"><span class="divider">«</span> <a href="staging.html">Staging</a> <span class="divider"></span></div>

      <section id="main_content" class="inner">
         
  <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#from-interpreter-to-compiler" id="id1">From Interpreter to Compiler</a><ul>
<li><a class="reference internal" href="#regular-expression-matcher" id="id2">Regular Expression Matcher</a><ul>
<li><a class="reference internal" href="#vanilla-interpreter" id="id3">Vanilla Interpreter</a></li>
<li><a class="reference internal" href="#staged-interpreter" id="id4">Staged Interpreter</a></li>
<li><a class="reference internal" href="#generated-code" id="id5">Generated Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="from-interpreter-to-compiler">
<h1><a class="toc-backref" href="#id1">From Interpreter to Compiler</a><a class="headerlink" href="#from-interpreter-to-compiler" title="Permalink to this headline">¶</a></h1>
<p>A staged interpreter is a compiler. This is useful, because an
interpreter is usually much easier to implement than a compiler. In
this section, we illustrate how to turn a vanilla interpreter into a
compiler, using lightweight modular staging (LMS). The gist is to let
LMS generate code for the interpreter specialized to a particular
program -- the program is fixed at staging time, while the input(s) to
the program may vary in the generated code. Hence, staging an
interpreter should be as simple as wrapping the types of expressions
that vary in <tt class="docutils literal"><span class="pre">Rep[_]</span></tt> while leaving the types of expressions we want
specialized as is.</p>
<p>As a case study, we stage a simple regular expression matcher. Our
vanilla regular expression matcher is invoked on a regular expression
string and an input string. The staged regular expression matcher is
invoked on a regular expression constant string and a staged input
string of type <tt class="docutils literal"><span class="pre">Rep[String]</span></tt>, and generates code specialized to match
any input string against the constant regular expression pattern.</p>
<p>We could further optimize the generated code by additional staged
transformations, but here, we only illustrate the basic process of
staging an interpreter. This process is widely applicable. For
example, we used the same process to stage a bytecode interpreter into
a bytecode compiler.</p>
<div class="section" id="regular-expression-matcher">
<h2><a class="toc-backref" href="#id2">Regular Expression Matcher</a><a class="headerlink" href="#regular-expression-matcher" title="Permalink to this headline">¶</a></h2>
<p>We start with a small regular expression matcher, ported to Scala from
<a class="reference external" href="http://www.cs.princeton.edu/courses/archive/spr09/cos333/beautiful.html">a C version, written by Rob Pike and Brian Kernighan</a>.</p>
<div class="section" id="vanilla-interpreter">
<h3><a class="toc-backref" href="#id3">Vanilla Interpreter</a><a class="headerlink" href="#vanilla-interpreter" title="Permalink to this headline">¶</a></h3>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for regexp anywhere in text */</span>
<span class="k">def</span> <span class="n">matchsearch</span><span class="o">(</span><span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="n">`^`</span><span class="o">)</span>
    <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
  <span class="k">else</span> <span class="o">{</span>
    <span class="k">var</span> <span class="n">start</span> <span class="k">=</span> <span class="mi">0</span>
    <span class="k">var</span> <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">)</span>
    <span class="k">while</span> <span class="o">(!</span><span class="n">found</span> <span class="o">&amp;&amp;</span> <span class="n">start</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="n">found</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for restart of regexp at start of text */</span>
<span class="k">def</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">restart</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">start</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">restart</span><span class="o">==</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
    <span class="kc">true</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">)==</span><span class="n">`$`</span> <span class="o">&amp;&amp;</span> <span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">==</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
    <span class="n">start</span><span class="o">==</span><span class="n">text</span><span class="o">.</span><span class="n">length</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">&lt;</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">)==</span><span class="n">`*`</span><span class="o">)</span>
    <span class="n">matchstar</span><span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">),</span> <span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">+</span><span class="mi">2</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">)</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">start</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">),</span> <span class="n">text</span><span class="o">(</span><span class="n">start</span><span class="o">)))</span>
    <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="o">)</span>
  <span class="k">else</span> <span class="kc">false</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for c* followed by restart of regexp at start of text */</span>
<span class="k">def</span> <span class="n">matchstar</span><span class="o">(</span><span class="n">c</span><span class="k">:</span> <span class="kt">Char</span><span class="o">,</span> <span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">restart</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">start</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">var</span> <span class="n">sstart</span> <span class="k">=</span> <span class="n">start</span>
  <span class="k">var</span> <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">sstart</span><span class="o">)</span>
  <span class="k">var</span> <span class="n">failed</span> <span class="k">=</span> <span class="kc">false</span>
  <span class="k">while</span> <span class="o">(!</span><span class="n">failed</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">found</span> <span class="o">&amp;&amp;</span> <span class="n">sstart</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">failed</span> <span class="k">=</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="n">text</span><span class="o">(</span><span class="n">sstart</span><span class="o">))</span>
    <span class="n">sstart</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">sstart</span><span class="o">)</span>
  <span class="o">}</span>
  <span class="o">!</span><span class="n">failed</span> <span class="o">&amp;&amp;</span> <span class="n">found</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">c</span><span class="k">:</span> <span class="kt">Char</span><span class="o">,</span> <span class="n">t</span><span class="k">:</span> <span class="kt">Char</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">c</span> <span class="o">==</span> <span class="n">`.`</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="n">t</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="staged-interpreter">
<h3><a class="toc-backref" href="#id4">Staged Interpreter</a><a class="headerlink" href="#staged-interpreter" title="Permalink to this headline">¶</a></h3>
<p>The staged interpreter simply consist in wrapping the variable
parameters in <tt class="docutils literal"><span class="pre">Rep[_]</span></tt> types. Otherwise, the code is the same.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for regexp anywhere in text */</span>
<span class="k">def</span> <span class="n">matchsearch</span><span class="o">(</span><span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="n">`^`</span><span class="o">)</span>
    <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
  <span class="k">else</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">start</span> <span class="k">=</span> <span class="n">var_new</span><span class="o">(</span><span class="n">unit</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
    <span class="k">val</span> <span class="n">found</span> <span class="k">=</span> <span class="n">var_new</span><span class="o">(</span><span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">))</span>
    <span class="k">while</span> <span class="o">(!</span><span class="n">found</span> <span class="o">&amp;&amp;&amp;</span> <span class="n">start</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="n">found</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for restart of regexp at start of text */</span>
<span class="k">def</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">restart</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">String</span><span class="o">],</span> <span class="n">start</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">restart</span><span class="o">==</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
    <span class="kc">true</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">)==</span><span class="n">`$`</span> <span class="o">&amp;&amp;</span> <span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">==</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
    <span class="n">start</span><span class="o">==</span><span class="n">text</span><span class="o">.</span><span class="n">length</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">&lt;</span><span class="n">regexp</span><span class="o">.</span><span class="n">length</span> <span class="o">&amp;&amp;</span> <span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">)==</span><span class="n">`*`</span><span class="o">)</span>
    <span class="n">matchstar</span><span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">),</span> <span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">+</span><span class="mi">2</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">)</span>
  <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">start</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span> <span class="o">&amp;&amp;&amp;</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">regexp</span><span class="o">(</span><span class="n">restart</span><span class="o">),</span> <span class="n">text</span><span class="o">(</span><span class="n">start</span><span class="o">)))</span>
    <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="o">)</span>
  <span class="k">else</span> <span class="kc">false</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/* search for c* followed by restart of regexp at start of text */</span>
<span class="k">def</span> <span class="n">matchstar</span><span class="o">(</span><span class="n">c</span><span class="k">:</span> <span class="kt">Char</span><span class="o">,</span> <span class="n">regexp</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">restart</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">text</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">String</span><span class="o">],</span> <span class="n">start</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">sstart</span> <span class="k">=</span> <span class="n">var_new</span><span class="o">(</span><span class="n">start</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">found</span> <span class="k">=</span> <span class="n">var_new</span><span class="o">(</span><span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">sstart</span><span class="o">))</span>
  <span class="k">val</span> <span class="n">failed</span> <span class="k">=</span> <span class="n">var_new</span><span class="o">(</span><span class="n">unit</span><span class="o">(</span><span class="kc">false</span><span class="o">))</span>
  <span class="k">while</span> <span class="o">(!</span><span class="n">failed</span> <span class="o">&amp;&amp;&amp;</span> <span class="o">!</span><span class="n">found</span> <span class="o">&amp;&amp;&amp;</span> <span class="n">sstart</span><span class="o">&lt;</span><span class="n">text</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">failed</span> <span class="k">=</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="n">text</span><span class="o">(</span><span class="n">sstart</span><span class="o">))</span>
    <span class="n">sstart</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">found</span> <span class="k">=</span> <span class="n">matchhere</span><span class="o">(</span><span class="n">regexp</span><span class="o">,</span> <span class="n">restart</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">sstart</span><span class="o">)</span>
  <span class="o">}</span>
  <span class="o">!</span><span class="n">failed</span> <span class="o">&amp;&amp;&amp;</span> <span class="n">found</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">matchchar</span><span class="o">(</span><span class="n">c</span><span class="k">:</span> <span class="kt">Char</span><span class="o">,</span> <span class="n">t</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Char</span><span class="o">])</span><span class="k">:</span> <span class="kt">Rep</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="n">c</span> <span class="o">==</span> <span class="n">`.`</span> <span class="o">||</span> <span class="n">c</span> <span class="o">==</span> <span class="n">t</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="generated-code">
<h3><a class="toc-backref" href="#id5">Generated Code</a><a class="headerlink" href="#generated-code" title="Permalink to this headline">¶</a></h3>
<p>As an example, here is the code generated for <cite>^ab</cite>.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="cm">/*****************************************</span>
<span class="cm">  Emitting Generated Code                  </span>
<span class="cm">*******************************************/</span>
<span class="k">class</span> <span class="nc">Snippet</span> <span class="k">extends</span> <span class="o">((</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="nc">String</span><span class="o">)=&gt;(</span><span class="nc">Boolean</span><span class="o">))</span> <span class="o">{</span>
<span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">x0</span><span class="k">:</span><span class="kt">java.lang.String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
<span class="k">val</span> <span class="n">x1</span> <span class="k">=</span> <span class="n">x0</span><span class="o">.</span><span class="n">length</span>
<span class="k">val</span> <span class="n">x2</span> <span class="k">=</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">x1</span>
<span class="k">val</span> <span class="n">x5</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">x2</span><span class="o">)</span> <span class="o">{</span>
<span class="k">val</span> <span class="n">x3</span> <span class="k">=</span> <span class="n">x0</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
<span class="k">val</span> <span class="n">x4</span> <span class="k">=</span> <span class="n">`a`</span> <span class="o">==</span> <span class="n">x3</span>
<span class="n">x4</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
<span class="kc">false</span>
<span class="o">}</span>
<span class="k">val</span> <span class="n">x11</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">x5</span><span class="o">)</span> <span class="o">{</span>
<span class="k">val</span> <span class="n">x6</span> <span class="k">=</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">x1</span>
<span class="k">val</span> <span class="n">x9</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">x6</span><span class="o">)</span> <span class="o">{</span>
<span class="k">val</span> <span class="n">x7</span> <span class="k">=</span> <span class="n">x0</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="k">val</span> <span class="n">x8</span> <span class="k">=</span> <span class="n">`b`</span> <span class="o">==</span> <span class="n">x7</span>
<span class="n">x8</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
<span class="kc">false</span>
<span class="o">}</span>
<span class="k">val</span> <span class="n">x10</span> <span class="k">=</span> <span class="n">x9</span>
<span class="n">x10</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
<span class="kc">false</span>
<span class="o">}</span>
<span class="n">x11</span>
<span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*****************************************</span>
<span class="cm">  End of Generated Code                  </span>
<span class="cm">*******************************************/</span>
</pre></div>
</div>
</div>
</div>
</div>


      </section>
    </div>


    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">

      </footer>
    </div>

  

  </body>
</html>